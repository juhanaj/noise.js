<html>
    <head>
        <title>perlin.js</title>
    </head>
    <script type="text/javascript" src="noise.js"></script>
    <script type="text/javascript">
        var CANVAS_WIDTH = 640;
        var CANVAS_HEIGHT = 480;
        function draw(){
            var screen = document.getElementById("screen");
            var context = screen.getContext("2d");
            
            for(var x = 0; x < CANVAS_WIDTH; x++) {
                for(var y = 0; y < CANVAS_HEIGHT; y++) {
                    var noise = perlin((x / CANVAS_WIDTH), (y / CANVAS_HEIGHT));

                    //Use noise to color the canvas with shades of gray.
                    var imageData = context.createImageData(1, 1);
                    imageData.data[0] = (128 * noise) + 128;
                    imageData.data[1] = (128 * noise) + 128;
                    imageData.data[2] = (128 * noise) + 128;
                    imageData.data[3] = 255;
                    context.putImageData(imageData, x, y);
                }
            }
        }

        window.onload = draw;
    </script>

    <body>
        <canvas id="screen" width="640" height="480"></canvas>
    </body>

</html>
